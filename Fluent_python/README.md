# Fluent Python
## 목차
1. [CH01 파이썬 데이터 모델](https://github.com/heaven324/Python/blob/master/Fluent_python/ch01.ipynb)
2. [CH02 파이썬 데이터 모델](https://github.com/heaven324/Python/blob/master/Fluent_python/ch02.ipynb)



## CH01, 파이썬 데이터 모델 ([view code](https://github.com/heaven324/Python/blob/master/Fluent_python/ch01.ipynb))

1. 특별 메서드
    - \__?__() 메서드를 던더 메서드(dunder method)라고 통용해서 부름

### 특별 메서드명(연산자 제외)
| **범주**           | **메서드명**                                                                                        |
|--------------------|-----------------------------------------------------------------------------------------------------|
| 문자열/바이트 표현 | \_\_repr\_\_, \_\_str\_\_, \_\_format\_\_, \_\_bytes\_\_                                            |
| 숫자로 변환        | \_\_abs\_\_, \_\_bool\_\_, \_\_complex\_\_, \_\_int\_\_, \_\_float\_\_, \_\_hash\_\_, \_\_index\_\_ |
| 컬렉션 에뮬레이션  | \_\_len\_\_, \_\_getitem\_\_, \_\_setitem\_\_, \_\_delitem\_\_, \_\_contains\_\_                    |
| 반복               | \_\_iter\_\_, \_\_reversed\_\_, \_\_next\_\_                                                        |
| 콜러블 에뮬레이션  | \_\_call\_\_                                                                                        |
| 콘텍스트 관리      | \_\_enter\_\_, \_\_exit\_\_                                                                         |
| 객체 생성 및 소멸  | \_\_new\_\_, \_\_init\_\_, \_\_del\_\_                                                              |
| 속성 관리          | \_\_getattr\_\_, \_\_getattribute\_\_, \_\_setattr\_\_, \_\_delattr\_\_, \_\_dir\_\_                |
| 속성 디스크립터    | \_\_get\_\_, \_\_set\_\_, \_\_delete\_\_                                                            |
| 클래스 서비스      | \_\_prepare\_\_, \_\_instancecheck\_\_, \_\_subclasscheck\_\_                                       |

### 연산자에 대한 특별 메서드명
| **범주**              | **메서드명 및 관련 연산자**                                                                                                                                                 |
|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 단항 수치 연산자      | \_\_neg\_\_ -, \_\_pos\_\_ +, \_\_abs\_\_ abs()                                                                                                                             |
| 향상된 비교 연산자    | \_\_lt\_\_ <, \_\_le\_\_ <=, \_\_eq\_\_ ==, \_\_ne\_\_ !=, \_\_gt\_\_ >, \_\_ge\_\_ >=                                                                                      |
| 산술 연산자           | \_\_add\_\_ +, \_\_sub\_\_ -, \_\_mul\_\_ *, \_\_truediv\_\_ /, \_\_floordiv\_\_ //, \_\_mod\_\_ %, \_\_divmod\_\_ divmod(), \_\_pow\_\_ ** or pow(), \_\_round\_\_ round() |
| 역순 산술 연산자      | \_\_radd\_\_, \_\_rsub\_\_, \_\_rmul\_\_, \_\_rtruediv\_\_, \_\_rfloordiv\_\_, \_\_rmod\_\_, \_\_rdivmod\_\_, \_\_rpow\_\_                                                  |
| 복합 할당 산술 연산자 | \_\_iadd\_\_, \_\_isub\_\_, \_\_imul\_\_, \_\_itruediv\_\_, \_\_ifloordiv\_\_, \_\_imod\_\_, \_\_ipow\_\_                                                                   |
| 비트 연산자           | \_\_invert\_\_ ~, \_\_lshift\_\_ <<, \_\_rshift\_\_ >>, \_\_and\_\_ &, \_\_or\_\_ \|, \_\_xor\_\_ ^                                                                         |
| 역순 비트 연산자      | \_\_rlshift\_\_, \_\_rrshift\_\_, \_\_rand\_\_, \_\_rxor\_\_, \_\_ror\_\_                                                                                                   |
| 복합 할당 비트 연산자 | \_\_ilshift\_\_, \_\_irshift\_\_, \_\_iand\_\_, \_\_ixor\_\_, \_\_ior\_\_                                                                                                   |


## CH02, 시퀀스

| 시퀀스 형                                                                                                          |
|--------------------------------------------------------------------------------------------------------------------|
| 컨테이너 시퀀스(메모리 참조) </br> -> 서로 다른 자료형의 항목들을 담을 수 있는 list, tuple, collections, deque 형  |
| 균일 시퀀스(직접 할당) </br> -> 단 하나의 자료형만 담을 수 있는 str, bytes, bytearray, memoryview, array, array 형 |
| 가변 시퀀스 </br> -> list, bytearray, array.array, collections.deque, memoryview 형                                |
| 불변 시퀀스 </br> -> tuple, str, bytes 형                                                                          |

### 지능형 리스트
- [ for 문 ]과 같은 형태의 리스트
- python3에서는 지능형 리스트 내부의 변수와 외부의 변수명이 같을 때도 값이 혼용되지 않는다.
- 내장된 `filter()`와 `map()`함수를 사용해서 리스트를 만듦.
- 두 개 이상의 반복 가능한 자료형의 데카르트 곱을 나타내는 일련의 리스트를 만들 수 있다.

### 제너레이터 표현식
- 지능형 리스트처럼 리스트를 통째로 만들지 않고 반복자 프로토콜을 이용해서 항목을 하나씩 생성(메모리를 더 적게 사용함)

### 레코드로서의 튜플
- 튜플 언패킹을 이용해 병렬할당
- *를 사용해 초과 항목 할당 가능
- 내포된 튜플도 언패킹 가능
- `collections.namedtuple()`을 사용하여 필드명과 클래스명을 추가한 서브클래스 생성 가능
    - `_make()`으로 튜플을 생성하고, `_asdict()`으로 `Collection.OderedDict()` 객체 반환 가능

### 불변 리스트로서의 튜플
- 리스트나 튜플에서 지원되는 메서드
  
| method                     | list | tuple | 설명                                                                      |
|:---------------------------|:----:|:-----:|:--------------------------------------------------------------------------|
| `s.__add__(s2)`            | o    | o     | `s + s2` -- 리스트를 연결한다.                                            |
| `s.__iadd__(s2)`           | o    |       | `s += s2` -- 리스트를 연결하고 `s`에 저장한다.                            |
| `s.append(e)`              | o    |       | 제일 뒤에 요소를 하나 추가한다.                                           |
| `s.clear()`                | o    | o     | 모든 항목을 삭제한다.                                                     |
| `s.__contains__(e)`        | o    |       | `e` in `s`                                                                |
| `s.copy()`                 | o    |       | 리스트를 얕게 복사한다.                                                   |
| `s.count(e)`               | o    | o     | `e`가 발생한 횟수를 계산한다.                                             |
| `s.__delitem__(p)`         | o    |       | `p`위치의 요소를 삭제한다.                                                |
| `s.extend(it)`             | o    |       | 반복형 `it`안에있는 요소를 추가한다.                                      |
| `s.__getitem__(p)`         | o    | o     | `s[p]` -- `p`위치의 항목을 가져온다.                                      |
| `s.__getnewargs__()`       |      | o     | pickle을 이용해서 최적화된 직렬화를 지원한다.                             |
| `s.index(e)`               | o    | o     | `s`안에서 `e`가 처음 나타나는 위치를 찾는다.                              |
| `s.insert(p, e)`           | o    |       | `p`위치에 있는 요소 앞에 `e`요소를 삽입한다.                              |
| `s.__iter__()`             | o    | o     | 반복자를 가져온다.                                                        |
| `s.__len__()`              | o    | o     | `len(s)` -- 항목 개수를 구한다.                                           |
| `s.__mul__(n)`             | o    | o     | `s * n` -- 문자열을 반복한다.                                             |
| `s._imul__(n)`             | o    |       | `s *= n` -- 문자열을 반복하여 `s`에 저장한다.                             |
| `s.__rmul__(n)`            | o    | o     | `n * s` -- 역순 반복 추가 메서드.                                         |
| `s.pop([p])`               | o    |       | 마지막 항목이나 `p`위치의 항목을 제거하고 반환한다.                       |
| `s.remove(e)`              | o    |       | `e`값을 가진 첫 번째 항목을 삭제한다.                                     |
| `s.reverse()`              | o    |       | 항목을 역순으로 배치한 후 `s`에 저장한다.                                 |
| `s.__reversed__()`         | o    |       | 마지막에서 첫 번째 항목까지 반복하는 반복자를 반환한다.                   |
| `s.__setitem__(p, e)`      | o    |       | `s[p] = e` -- `e`를 `p`위치에 저장하고, 기존 항목을 덮어쓴다.             |
| `s.sort([key], [reverse])` | o    |       | 선택적인 키워드 `key`와 `reverse`에 따라 항목을 정렬하고 `s`에 저장한다.  |

### 슬라이싱
- 슬라이스에 네이밍을 하면 가독성이 좋아질 수 있다.
- 동일한 리스트에 대한 세 개의 참조(+ or *)를 가진 리스트는 쓸모없다.
- 시퀀스의 복합 할당에서는 시퀀스가 가변인지 불변인지에 따라서 객체의 정체성이 바뀐다.(가변은 기존 객체의 내용을 변경)

### 정렬된 시퀀스를 bisect로 관리하기
- `bisect`모듈이 표준 이진 검색 알고리즘을 제공.

### 배열(array)
- `array.tofile()`과 `array.fromfile()`로 배열을 이진파일(.bin)에 저장하고 빠르게 불러올 수 있다.(속도와 용량에 유리함)
- 리스트와 배열에서 볼 수 있는 메서드와 속성
  
| method                     | list | array | 설명                                                                                     |
|:---------------------------|:----:|:-----:|:-----------------------------------------------------------------------------------------|
| `s.__add__(s2)`            | o    | o     | `s + s2` -- 연결한다.                                                                    |
| `s.__iadd__(s2)`           | o    | o     | `s += s2` -- 연결하고 `s`에 저장한다.                                                    |
| `s.append(e)`              | o    | o     | 마지막 요소 뒤에 `e`를 추가한다.                                                         |
| `s.byteswap()`             |      | o     | 엔디언 변환을 위해 배열 안의 모든 요소의 바이트 순서를 바꾼다.                           |
| `s.clear()`                | o    |       | 모든 항목을 삭제한다.                                                                    |
| `s.__contains__(e)`        | o    | o     | `e` in `s`                                                                               |
| `s.copy()`                 | o    |       | 리스트를 얕게 복사한다.                                                                  |
| `s.__copy__()`             |      | o     | `copy.copy()`메서드를 지원한다.                                                          |
| `s.count(e)`               | o    |       | `s`안에 `e`요소가 발생한 횟수를 계산한다.                                                |
| `s.__deepcopy__()`         |      | o     | `copy.deepcopy()`를 최적화해서 지원한다.                                                 |
| `s.__delitem__(p)`         | o    | o     | `p`위치의 요소를 삭제한다.                                                               |
| `s.extend(it)`             | o    | o     | 반복형 `it`에서 요소들을 가져와서 추가한다.                                              |
| `s.frombytes(b)`           |      | o     | 패킹된 기계값으로 해석한 바이트 시퀀스에서 요소를 가져와서 추가한다.                     |
| `s.fromfile(f, n)`         |      | o     | 패킹된 기계값으로 해석한 이진 파일 `f`에서 `n`개의 항목을 가져와서 추가한다.             |
| `s.fromlist(l)`            |      | o     | 리스트 `l`의 요소를 추가한다. TypeError가 한번이라도 발생하면 아무 것도 추가하지 않는다. |
| `s.__getitem__(p)`         | o    | o     | `s[p]` -- `p`위치의 항목을 가져온다.                                                     |
| `s.index(e)`               | o    | o     | `e`가 처음 나타나는 위치를 찾는다.                                                       |
| `s.insert(p, e)`           | o    | o     | `p`위치에 있는 항목 앞에 `e`요소를 삽입한다.                                             |
| `s.itemsize`               |      | o     | 각 배열 항목의 바이트 단위 크기                                                          |
| `s.__iter__()`             | o    | o     | 반복자를 가져온다.                                                                       |
| `s.__len__()`              | o    | o     | `len(s)` -- 항목 수를 반환한다.                                                          |
| `s.__mul__(n)`             | o    | o     | `s * n` -- `n`회 반복해서 연결한다.                                                      |
| `s._imul__(n)`             | o    | o     | `s *= n` -- `n`회 반복해서 연결한 후 `s`에 저장한다.                                     |
| `s.__rmul__(n)`            | o    | o     | `n * s` -- 역순 반복 연결 메서드                                                         |
| `s.pop([p])`               | o    | o     | `p`위치 혹은 제일 마지막 항목을 제거하고 반환한다.                                       |
| `s.remove(e)`              | o    | o     | 값이 `e`와 일치하는 항목을 제거한다.                                                     |
| `s.reverse()`              | o    | o     | 항목들의 순서를 역으로 나열해서 다시 `s`에 저장한다.                                     |
| `s.__reversed__()`         | o    |       | 마지막부터 처음까지 반복하는 반복자를 반환한다.                                          |
| `s.__setitem__(p, e)`      | o    | o     | `s[p] = e` -- `p`위치에 `e`요소를 저장하고, 기존 값을 덮어쓴다.                          |
| `s.sort([key], [reverse])` | o    |       | 선택적인 키워드 `key`와 `reverse`에 따라 항목을 정렬하고 `s`에 저장한다.                 |
| `s.tobytes`                |      | o     | bytes 객체에 패킹된 기계값으로 항목을 반환한다.                                          |
| `s.tofile(f)`              |      | o     | 이진 파일 f에 패킹된 기계값으로 항목을 저장한다.                                         |
| `s.tolist()`               |      | o     | 항목을 수치형 객체로 변환해서 넣은 리스트를 반환한다.                                    |
| `s.typecode`               |      | o     | 항목의 C 형을 나타내는 한 글자짜리 문자열                                                |

### 덱 및 기타 큐
덱(`collections.deque`) 클래스는 큐의 양쪽 어디에서든 빠르게 삽입 및 삭제할 수 있도록 설계된 스레드 안전한 양방향 큐다.
- 리스트나 덱에 구현된 메서드

| method                     | list | deque | 설명                                                                          |
|:---------------------------|:----:|:-----:|:------------------------------------------------------------------------------|
| `s.__add__(s2)`            | o    |       | `s + s2` -- 연결한다.                                                         |
| `s.__iadd__(s2)`           | o    | o     | `s += s2` -- 연결한 후 `s`에 저장한다.                                        |
| `s.append(e)`              | o    | o     | 마지막 항목 오른쪽에 요소 하나를 추가한다.                                    |
| `s.appendleft(e)`          |      | o     | 첫 번째 항목 왼쪽에 요소 하나를 추가한다.                                     |
| `s.clear()`                | o    | o     | 모든 항목을 제거한다.                                                         |
| `s.__contains__(e)`        | o    |       | `e` in `s`                                                                    |
| `s.copy()`                 | o    |       | 목록을 얕게 복사한다.                                                         |
| `s.__copy__()`             |      | o     | `copy.copy()`지원(얕은 복사)                                                  |
| `s.count(e)`               | o    | o     | `e`요소가 발생한 횟수를 반환한다.                                             |
| `s.__delitem__(p)`         | o    | o     | `p`위치의 항목을 삭제한다.                                                    |
| `s.extend(i)`              | o    | o     | 반복 가능한 `i`에 있는 요소를 오른쪽에 추가한다.                              |
| `s.extendleft(i)`          |      | o     | 반복 가능한 `i`에 있는 요소를 왼쪽에 추가한다.                                |
| `s.__getitem__(p)`         | o    | o     | `s[p]` -- `p`위치의 항목을 가져온다.                                          |
| `s.index(e)`               | o    |       | 처음 `e`가 나타난 위치를 반환한다.                                            |
| `s.insert(p, e)`           | o    |       | `p`위치의 항목 앞에 `e`요소를 추가한다.                                       |
| `s.__iter__()`             | o    | o     | 반복자를 반환한다.                                                            |
| `s.__len__()`              | o    | o     | `len(s)` -- 항목 수를 반환한다.                                               |
| `s.__mul__(n)`             | o    |       | `s * n` -- 반복해서 연결한다.                                                 |
| `s._imul__(n)`             | o    |       | `s *= n` -- 반복해서 연결한 후 `s`에 저장한다.                                |
| `s.__rmul__(n)`            | o    |       | `n * s` -- 역순 반복 연결.                                                    |
| `s.pop([p])`               | o    | o     | 마지막 항목을 삭제하고 반환한다.                                              |
| `s.popleft([p])`           |      | o     | 첫 번째 항목을 삭제하고 반환한다.                                             |
| `s.remove(e)`              | o    | o     | `e`와 같은 값을 가진 첫 번째 항목을 삭제한다.                                 |
| `s.reverse()`              | o    | o     | 항목을 역순으로 나열해서 다시 `s`에 저장한다.                                 |
| `s.__reversed__()`         | o    | o     | 뒤에서부터 앞으로 나열하는 반복자를 반환한다.                                 |
| `s.rotate(n)`              |      | o     | 한쪽에 있는 `n`개의 항목을 반대쪽으로 이동시킨다.                             |
| `s.__setitem__(p, e)`      | o    | o     | `s[p] = e` -- `p`위치에 `e`값을 저장하고, 기존 값을 덮어쓴다.                 |
| `s.sort([key], [reverse])` | o    |       | 선택적인 키워드 인수 `key`와 `reverse`에 따라 항목을 정렬하고 `s`에 저장한다. |
